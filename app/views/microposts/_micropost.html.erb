<li id="micropost-<%= micropost.id %>">
  <%= link_to gravatar_for(micropost.user, size: 50), micropost.user %>
  <span class="user"><%= link_to micropost.user.name, micropost.user %></span>
  <span class="content">
  <%= micropost.content %>
  <% if micropost.picture? %>
    <div class="picture">
      <%= image_tag micropost.picture.url %>
    </div>
  <% end %>
  </span>
  <span class="timestamp">
    <%= time_ago_in_words(micropost.created_at) %> ago
    <% if current_user?(micropost.user) %>
      <%= link_to "delete", micropost, method: :delete,
                                  data: {confirm: "You sure?"} %>
    <% end %>
  </span>
</li>
<script type="text/javascript">
  $('textarea').on( 'keyup', function () { 
    remaining = 140 - $('textarea').val().length;
    // #sets counter
    $('.counter').text(remaining);
    // #changes counter color
    // #valid but low 
    $('.counter').toggleClass('warning', remaining < 16 && remaining > -1 );
    // #invlaid
    $('.counter').toggleClass('error', remaining < 0);
    // #submit button toggle when invalid inputs
    $('.btn-primary').prop('disabled', remaining < 0 || remaining == 140);
  });
</script>
